<xml xmlns="http://www.w3.org/1999/xhtml"><block type="core_hub_component" id="1ltKCw/fZR!4,}9IG}|/" x="38" y="-537"><mutation dig="2" ana="1"></mutation><field name="BOARD">uno</field><field name="PIND1">4</field><field name="PIND2">9</field><field name="PINA1">A5</field><value name="DIG1"><block type="button_input_pullup_setup" id="BSN*:HbLwJ@2}o]3H]P*"><field name="BUTTONNAME">pushbtn</field></block></value><value name="DIG2"><block type="digitaloutput_config_hub" id="pHv*XuSG?cgZbSN#{2Y3"><field name="OUTPUTNAME">LED</field></block></value><value name="ANA1"><block type="analogsensor_config_hub" id="ZS#H,}kzknz2|fvrxUy5"><field name="SENSORNAME">Potmeter</field></block></value><next><block type="array_create_with_length" id="EvfHT|k=xN,SKKnN-[:Y"><field name="NUMBER_TYPE">int</field><field name="ARRAYNAME">ADC0</field><value name="LENGTH"><block type="math_number" id="_a9ybt:ST=v_oIC!q8e6"><field name="NUM">200</field></block></value><next><block type="array_create_with_length" id="]wD!T-USPzD!Jzc99|]d"><field name="NUMBER_TYPE">float</field><field name="ARRAYNAME">tijd_sec</field><value name="LENGTH"><block type="math_number" id="B]I7NZ:sLwMoR-{moBsK"><field name="NUM">200</field></block></value></block></next></block></next></block><block type="serial_setup" id="=k2%|@2L1PpWntzlLtcu" x="38" y="-312"><field name="SERIAL_ID">Serial</field><field name="SPEED">57600</field></block><block type="arduino_functions" id="dKBknMXa*JG*h{.[Fd_E" x="38" y="-262"><statement name="SETUP_FUNC"><block type="serial_print" id="@sFj9GD^N~l5!3-J,-3z"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">TRUE</field><value name="CONTENT"><block type="text" id="FLxcc0P1}B_uwI!L|@DJ"><field name="TEXT">Setup Finished</field></block></value><next><block type="variables_set" id="M2h0@l,[;G~B,J8tsBe["><field name="VAR">starttime</field><value name="VALUE"><block type="time_millis" id="-)19SMp7]wfPV5V5K5Z9"></block></value><next><block type="variables_set" id=")7qT(uj-wVy_?]4Fo`3^"><field name="VAR">status</field><value name="VALUE"><block type="math_number" id="+ZQ(LJ8,#oQlAPA7-l6|"><field name="NUM">0</field></block></value><next><block type="procedures_callnoreturn" id="Oq]]G/e.#|pR;k2%?=5*"><mutation name="setSettings"></mutation></block></next></block></next></block></next></block></statement><statement name="LOOP_FUNC"><block type="procedures_callnoreturn" id="`NBBbxI-erC%(cz?ce:I"><mutation name="determineStatus"></mutation><next><block type="controls_if" id="(CDl7#0i0I]I4k??oTXa"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare" id="ESpO;fGwuA_u.k}I4:Q1"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="iGG}]!@l4.~=pHMQu+Fb"><field name="VAR">status</field></block></value><value name="B"><block type="math_number" id="pS|fH)yq0Ua0q!.ZMMY{"><field name="NUM">1</field></block></value></block></value><statement name="DO0"><block type="digitaloutput_write" id=";s(b`Czk~UtiS,(cg#]7"><field name="OUTPUTNAME">LED</field><value name="STATE"><block type="io_highlow" id=".:d~Cb+?N#aQb/PE]..D"><field name="STATE">LOW</field></block></value><next><block type="procedures_callnoreturn" id="YlJpCJ6u@y(M@!yHS9L%"><mutation name="doBurstMeasurement"></mutation></block></next></block></statement><statement name="ELSE"><block type="digitaloutput_write" id="yBG#31qK:HtlR:-!lLYv"><field name="OUTPUTNAME">LED</field><value name="STATE"><block type="io_highlow" id="|2n/C2kl0o#5NAr]bO#i"><field name="STATE">HIGH</field></block></value></block></statement></block></next></block></statement></block><block type="procedures_defnoreturn" id="BuJ/{P6`z|MX)-V#C|22" x="38" y="87"><field name="NAME">setSettings</field><comment pinned="false" h="80" w="160">Describe this function...</comment><statement name="STACK"><block type="variables_set" id="2dQi.*T5H!}h1(U?_Gr?"><field name="VAR">nr_measurements</field><value name="VALUE"><block type="array_getLength" id="^v;2a8UWg/VK^B;3pm26"><field name="ARRAYNAME">ADC0</field></block></value><next><block type="variables_set" id="GR|8^DY9[7z~)7~U..^d"><field name="VAR">delay_between_measurements_ms</field><value name="VALUE"><block type="math_number" id="zEb)0XdB:.`~N[yVF,Ix"><field name="NUM">20</field></block></value><next><block type="ard_comment" id="i~56M548SCvaB*4^V7?j"><value name="TEXT"><block type="text" id="pOFCjax~]1iG--x]X8%H"><field name="TEXT">Vin of resistance reading</field></block></value><next><block type="variables_set" id="+Jvj3aPw1-L5|Ao)@b0/"><field name="VAR">Vin</field><value name="VALUE"><block type="math_number" id="nFtPQj9K@_h22c[l,fFL"><field name="NUM">4.999</field></block></value><next><block type="variables_set" id="3JS07D-A{Jp-L0j(Yq_?"><field name="VAR">Vin_mV_int</field><value name="VALUE"><block type="math_number" id="e033uB_-Sb]9WEy4.-=K"><field name="NUM">4999</field></block></value><next><block type="ard_comment" id="#)dk`b+0P}3.9.ZkXzd6"><value name="TEXT"><block type="text" id="C5RutjVb!dpSwrqITwn_"><field name="TEXT">fixed resistor used in kOhm</field></block></value><next><block type="ard_comment" id="G5{bUP{(Riq@Uh@`+-AC"><value name="TEXT"><block type="text" id="6~3)g8:o4AAQ4C5xZ~`|"><field name="TEXT">this resistor connects to GND</field></block></value><next><block type="variables_set" id="IB(yY*i^BZ-yF!5=e|R2"><field name="VAR">Rmeas</field><value name="VALUE"><block type="math_number" id="1Q+.U}%o3S:?8AD}q;wM"><field name="NUM">9.98</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="procedures_defnoreturn" id="%i%e)N+QOqfxSr=B/RUA" x="613" y="63"><field name="NAME">determineStatus</field><comment pinned="false" h="80" w="160">Deze functie beschrijven...</comment><statement name="STACK"><block type="button_input" id="%Ji*u_H1zdUpt54B:!vd"><field name="BUTTONNAME">pushbtn</field><field name="WAIT_INPUT">FALSE</field><statement name="CLICKINPUT"><block type="controls_if" id="Hn0y{iS/GW7r1_q}dmW0"><value name="IF0"><block type="logic_compare" id="T^etkp1oRyL/S}LArHT!"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="/mndnf!8(DriQ]#e4b7|"><field name="VAR">status</field></block></value><value name="B"><block type="math_number" id="`G9s=ba^OHGi1UO8sb1U"><field name="NUM">0</field></block></value></block></value><statement name="DO0"><block type="variables_set" id=";48/##:^77Wdi--loxQ("><field name="VAR">status</field><value name="VALUE"><block type="math_number" id="}0BusnoqWxjY#9_XkBhn"><field name="NUM">1</field></block></value></block></statement></block></statement></block></statement></block><block type="procedures_defnoreturn" id="4L_-m/m:8j=An9I?dt;f" x="37" y="362"><field name="NAME">doBurstMeasurement</field><comment pinned="false" h="80" w="160">Deze functie beschrijven...</comment><statement name="STACK"><block type="ard_comment" id="7|ui8BXQl[)3nYGn:7B-"><value name="TEXT"><block type="text" id="O-J2X(:zbaN~tn2]e.*-"><field name="TEXT">We do given # meas in one go, then show in serial</field></block></value><next><block type="variables_set" id="@zfQ`0xDToXCZPk[#N;Y"><field name="VAR">average_ADC</field><value name="VALUE"><block type="variables_set_type" id="Y*]94dViiv#7Th!K}N`V"><field name="VARIABLE_SETTYPE_TYPE">DECIMAL</field><value name="VARIABLE_SETTYPE_INPUT"><block type="math_number" id="ejBv?xRsg+d3[1-koe|)"><field name="NUM">0</field></block></value></block></value><next><block type="variables_set" id="@8GWQbl#MY2g!,DUe#jl"><field name="VAR">starttime</field><value name="VALUE"><block type="time_millis" id="8c1G!xsGXHfn`JNIUGH/"></block></value><next><block type="controls_for" id="dvmg6np8Iwd3tJQuT(T."><field name="VAR">i</field><value name="FROM"><block type="math_number" id="y~zbR139w@O][kodvAhS"><field name="NUM">0</field></block></value><value name="TO"><block type="math_arithmetic" id="@cu(A@Li2S0mzT={rP`K"><field name="OP">MINUS</field><value name="A"><block type="array_getLength" id="09b{SW2Uv`CwQPJuRx=u"><field name="ARRAYNAME">ADC0</field></block></value><value name="B"><block type="math_number" id="5PI?p,pie~80roJ?T9D@"><field name="NUM">1</field></block></value></block></value><value name="BY"><block type="math_number" id="-L2-lLoL9?o=IM+fwQgm"><field name="NUM">1</field></block></value><statement name="DO"><block type="variables_set" id=")-4Fmm36g^YL!KdBKc1A"><field name="VAR">resistorADC</field><value name="VALUE"><block type="analogsensor_read" id="(~-LVLt-I(/NsUMp,|!s"><field name="SENSORNAME">Potmeter</field></block></value><next><block type="math_change" id="t7=q8w=I`3N3/]sR~UnL"><field name="VAR">average_ADC</field><value name="DELTA"><block type="variables_set_type" id="DL|i}[qizTH48gXhe=#g"><field name="VARIABLE_SETTYPE_TYPE">DECIMAL</field><value name="VARIABLE_SETTYPE_INPUT"><block type="variables_get" id="bPg++wlqq]o.fl]V64#="><field name="VAR">resistorADC</field></block></value></block></value><next><block type="array_setIndex" id="hQH~R]fjfE.6(jO}q;MT"><field name="ARRAYNAME">ADC0</field><value name="AT"><block type="variables_get" id="ki?c]!OlilF@U%pcHR~u"><field name="VAR">i</field></block></value><value name="VALUE"><block type="variables_get" id="KCizcni4rjb10wRsEfTq"><field name="VAR">resistorADC</field></block></value><next><block type="array_setIndex" id="iS0e31ICgM|!3xAKs8f{"><field name="ARRAYNAME">tijd_sec</field><value name="AT"><block type="variables_get" id="n[siBN|n0AMc:mKMG;Q;"><field name="VAR">i</field></block></value><value name="VALUE"><block type="math_arithmetic" id="Qv*i[@|zn0)kzrSmC#KV"><field name="OP">DIVIDE</field><value name="A"><block type="math_arithmetic" id="(.e)nLJcAB3t**NBAjmD"><field name="OP">MINUS</field><value name="A"><block type="time_millis" id="5nF19(Y-+p1K?:!I)e6H"></block></value><value name="B"><block type="variables_get" id="L}ig!Bg7%:Rn(CBFzDX+"><field name="VAR">starttime</field></block></value></block></value><value name="B"><block type="variables_set_type" id="=%a=D,HMGQOt%3(v3RL8"><field name="VARIABLE_SETTYPE_TYPE">DECIMAL</field><value name="VARIABLE_SETTYPE_INPUT"><block type="math_number" id="@~Fuo]]^G,[b(0gsP1bO"><field name="NUM">1000</field></block></value></block></value></block></value><next><block type="time_delay" id="+NP]R:m2|4M4/[2I@Xbi"><value name="DELAY_TIME_MILI"><block type="variables_get" id="4_j;/G620)Pc!pLw7HLK"><field name="VAR">delay_between_measurements_ms</field></block></value></block></next></block></next></block></next></block></next></block></statement><next><block type="variables_set" id="QNd3XxPm}0_lo[;akRO*"><field name="VAR">average_ADC</field><value name="VALUE"><block type="math_arithmetic" id="sd5o?HuG=qw11%w`q]RK"><field name="OP">DIVIDE</field><value name="A"><block type="variables_get" id="l^S@C5#1T[auqBhKDYv/"><field name="VAR">average_ADC</field></block></value><value name="B"><block type="array_getLength" id="~OBxeOr/Umni:pZ]GK:4"><field name="ARRAYNAME">ADC0</field></block></value></block></value><next><block type="ard_comment" id="tS/?^MpcDhHxL?L/Ya9B"><value name="TEXT"><block type="text" id="+_Y],*vFEA|pToSoVF8("><field name="TEXT">Measurement finished, write out a cvs for use in Spreadsheet</field></block></value><next><block type="serial_print" id="4nXDABWA##shkmREL(yv"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">FALSE</field><value name="CONTENT"><block type="text" id="C5igAQT}P@Nv6_x*`vwO"><field name="TEXT">time (s); </field></block></value><next><block type="serial_print" id="pnG#:=v`-Pm^xXH9UirG"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">FALSE</field><value name="CONTENT"><block type="text" id="^AxVvj|?MGlZGe+cEH!,"><field name="TEXT">ADC; </field></block></value><next><block type="serial_print" id="9z8Jg-q07..q6=tg~:f-"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">FALSE</field><value name="CONTENT"><block type="text" id="_mFk{SMnH@+p70W:9WQ@"><field name="TEXT">avgADC; </field></block></value><next><block type="serial_print" id="4%j*CdzdYmiK=FrRhcr|"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">FALSE</field><value name="CONTENT"><block type="text" id="d7[lC_-//d%.%}_f*{@}"><field name="TEXT">Voltage; </field></block></value><next><block type="serial_print" id="WcjbbV3J;#7X4,q%BZ~W"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">TRUE</field><value name="CONTENT"><block type="text" id="Ytu^h9^GgZsteZ8.8PS+"><field name="TEXT">R (kOhm); </field></block></value><next><block type="controls_for" id="gJ%-GKVD[mAW+{E~;zWD"><field name="VAR">i</field><value name="FROM"><block type="math_number" id="zL|RETV1.+2=8:Bd^6hN"><field name="NUM">0</field></block></value><value name="TO"><block type="math_arithmetic" id="5i`3w:WtY?-90t+]#9CD"><field name="OP">MINUS</field><value name="A"><block type="array_getLength" id="^x^Kra)*H[k3amkG%PQ4"><field name="ARRAYNAME">ADC0</field></block></value><value name="B"><block type="math_number" id="L@[B*/qowd-:sSg=f.Zr"><field name="NUM">1</field></block></value></block></value><value name="BY"><block type="math_number" id="R|qzjxnXUkt,.c=-:|9-"><field name="NUM">1</field></block></value><statement name="DO"><block type="serial_print" id="4((SK;}kYnz?_8Yn@w93"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">FALSE</field><value name="CONTENT"><block type="array_getIndex" id="~Y**@FLaxMJrT4L#Ut%6"><field name="ARRAYNAME">tijd_sec</field><value name="AT"><block type="variables_get" id="vJ1_Ar^Y_x:WLo%;3Q3f"><field name="VAR">i</field></block></value></block></value><next><block type="serial_print" id="/X7aMgYL,|X0c#r%;DLb"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">FALSE</field><value name="CONTENT"><block type="text" id="Qb,?1j`e8mp-YtuSuocI"><field name="TEXT">; </field></block></value><next><block type="serial_print" id="t5MsIB|bup1]J1J^#ESt"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">FALSE</field><value name="CONTENT"><block type="array_getIndex" id="J(DHfy%)dD{Nc-+e[%US"><field name="ARRAYNAME">ADC0</field><value name="AT"><block type="variables_get" id="/{3D3emcji)X9*4]K-R%"><field name="VAR">i</field></block></value></block></value><next><block type="serial_print" id="4e!v~:D|P!b5ykU!r,uq"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">FALSE</field><value name="CONTENT"><block type="text" id="HFC?O-U/sWDc=#0ui}x}"><field name="TEXT">; </field></block></value><next><block type="serial_print" id="gKZI5_Y#+V`C:jG72XZ:"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">FALSE</field><value name="CONTENT"><block type="variables_get" id="l*lJ.9as1+8r`5%*q8?@"><field name="VAR">average_ADC</field></block></value><next><block type="serial_print" id="/|UepBgetiSaPNP?U~)q"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">FALSE</field><value name="CONTENT"><block type="text" id="fNv#W3!z/B6n9Eck8^0."><field name="TEXT">; </field></block></value><next><block type="ard_comment" id="p1TPf)3Ue}5UE/OdghHR"><value name="TEXT"><block type="text" id="u=?GXa#0gHXG.:1c=V5}"><field name="TEXT">Determine mV at sensor line</field></block></value><next><block type="variables_set" id="ssHp7bjIiJ_elu9.|vE-"><field name="VAR">ADC_Voltage</field><value name="VALUE"><block type="variables_set_type" id="T}z7Cm2A18R=R)R#9W=B"><field name="VARIABLE_SETTYPE_TYPE">DECIMAL</field><value name="VARIABLE_SETTYPE_INPUT"><block type="base_map" id="V.wxR4D2GB:?/nLv)Lop"><value name="NUM"><block type="array_getIndex" id="L}WZ+`GRQKBz_TFLU]!["><field name="ARRAYNAME">ADC0</field><value name="AT"><block type="variables_get" id="[3^Ie-`6a@bA+HP?K!t]"><field name="VAR">i</field></block></value></block></value><value name="DMAX"><block type="variables_get" id="Z~ujJV{B+,S9,[aKhXSW"><field name="VAR">Vin_mV_int</field></block></value></block></value></block></value><next><block type="serial_print" id="[h~GSb*#lM]H~u,6FhoM"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">FALSE</field><value name="CONTENT"><block type="variables_set_type" id="|Ei:`v[O@A=M.tXv~T1y"><field name="VARIABLE_SETTYPE_TYPE">DECIMAL</field><value name="VARIABLE_SETTYPE_INPUT"><block type="math_arithmetic" id="G.X(Wc.//M;s`Zbsj#t#"><field name="OP">DIVIDE</field><value name="A"><block type="variables_get" id="[+J6{KDEuLGm@yW{A,T9"><field name="VAR">ADC_Voltage</field></block></value><value name="B"><block type="math_number" id="|_%R?p@kj:r=M*.FOuqE"><field name="NUM">1000</field></block></value></block></value></block></value><next><block type="serial_print" id="9wX,mf/;47`iIuX6f[4D"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">FALSE</field><value name="CONTENT"><block type="text" id="q0aoGSYJcwPGYyi*l4@X"><field name="TEXT">; </field></block></value><next><block type="ard_comment" id="PR+wRqY[}nd`BnjhC1`h"><value name="TEXT"><block type="text" id="eH(jG|=KUykn@RIa{^^q"><field name="TEXT">Determine variable resistance</field></block></value><next><block type="controls_if" id="U{G#2p(j]bCJhb1]maaG"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare" id="W*?x5^N2d4LKtx]{@1sY"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="QuKd%JA3?*ZW9;wybI3;"><field name="VAR">ADC_Voltage</field></block></value><value name="B"><block type="math_number" id="7)!|[1PQz{EmJFG0j|,B"><field name="NUM">0</field></block></value></block></value><statement name="DO0"><block type="ard_comment" id="S]M3nNqrm=B~Jh?e8Ku9"><value name="TEXT"><block type="text" id="AYq7EHKV5FU;4r^|%I]u"><field name="TEXT">variable resistor TOO large...use  -1</field></block></value><next><block type="variables_set" id="Js`2.;C8W[:_8r=;*4%}"><field name="VAR">varResistance</field><value name="VALUE"><block type="variables_set_type" id="^E5#ovv74f|Gn;M#AD@;"><field name="VARIABLE_SETTYPE_TYPE">DECIMAL</field><value name="VARIABLE_SETTYPE_INPUT"><block type="math_number" id="i3KnNI^AQxSr;,@bY3Z*"><field name="NUM">-1</field></block></value></block></value></block></next></block></statement><statement name="ELSE"><block type="variables_set" id="q/;U%|Q0a):8g1ePb72="><field name="VAR">varResistance</field><value name="VALUE"><block type="math_arithmetic" id="/?61.`GZXN]XV:.fi8e!"><field name="OP">DIVIDE</field><value name="A"><block type="math_arithmetic" id="DOlKRRXBW9Sm+4!Jn6UV"><field name="OP">MULTIPLY</field><value name="A"><block type="math_arithmetic" id="2FN48;rk|V?or9}BROE%"><field name="OP">MINUS</field><value name="A"><block type="variables_get" id="(6T7h;!SVR}V7xW{Wf{N"><field name="VAR">Vin_mV_int</field></block></value><value name="B"><block type="variables_get" id="vceSSvVMw=^{sEw2L,s."><field name="VAR">ADC_Voltage</field></block></value></block></value><value name="B"><block type="variables_get" id="=iKR#is|O2JS3-Wt_^[B"><field name="VAR">Rmeas</field></block></value></block></value><value name="B"><block type="variables_get" id="`P8RgB.%YQ-5Ah`d`%QQ"><field name="VAR">ADC_Voltage</field></block></value></block></value></block></statement><next><block type="serial_print" id="K7zs@b=;QGDpk:%j?5]x"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">FALSE</field><value name="CONTENT"><block type="variables_get" id="W5AK_@R1_E!t(M=fws2n"><field name="VAR">varResistance</field></block></value><next><block type="serial_print" id="t`Bo)KfHanS;o7*;~S^e"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">TRUE</field><value name="CONTENT"><block type="text" id="|T]+YQ`;X#E+k?m/Sbj}"><field name="TEXT">; </field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type="ard_comment" id="[QXts|B)D(A6d-Fi2b7f"><value name="TEXT"><block type="text" id="WYI5khg_h#PQYl%Xy/l["><field name="TEXT">Finished, reset status to 0</field></block></value><next><block type="variables_set" id="hH,J6*#NV]9tuf,0]_#o"><field name="VAR">status</field><value name="VALUE"><block type="math_number" id="?j8zt6ZN+0Y#3!x.Q={O"><field name="NUM">0</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>